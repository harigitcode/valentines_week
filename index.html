<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Luna ‚ù§Ô∏è</title>

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:'Segoe UI',sans-serif;
}

body{
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:hidden;
    background: linear-gradient(-45deg,#fff5f5,#ffe4e1,#f3e8ff,#e6f0ff);
    background-size:400% 400%;
    animation:bgMove 14s ease infinite;
}

@keyframes bgMove{
    0%{background-position:0% 50%;}
    50%{background-position:100% 50%;}
    100%{background-position:0% 50%;}
}

/* Card */
.container{
    width:90%;
    max-width:420px;
    padding:40px 25px;
    text-align:center;
    border-radius:26px;
    background: rgba(255,255,255,0.65);
    backdrop-filter: blur(18px);
    box-shadow: 0 20px 70px rgba(0,0,0,0.08);
    animation:fadeIn 2s ease;
}

@keyframes fadeIn{
    from{opacity:0; transform:translateY(30px);}
    to{opacity:1; transform:translateY(0);}
}

h1{
    font-size:30px;
    color:#6b3e2e;
    margin-bottom:15px;
}

.message{
    font-size:22px;
    color:#5a3a2a;
    min-height:120px;
    line-height:1.6;
    transition:all 1s ease;
    animation:softPulse 3s infinite;
}

@keyframes softPulse{
    0%{transform:scale(1);}
    50%{transform:scale(1.03);}
    100%{transform:scale(1);}
}

/* Glow title for final */
.final-title{
    font-size:36px;
    color:#d63384;
    animation:glow 1.5s infinite alternate;
}

@keyframes glow{
    from{text-shadow:0 0 10px #ff85a2;}
    to{text-shadow:0 0 35px #ff4d6d;}
}

/* Hearts */
.heart{
    position:fixed;
    bottom:-20px;
    animation:floatUp 8s linear forwards;
}

@keyframes floatUp{
    to{
        transform:translateY(-110vh);
        opacity:0;
    }
}

/* Sparkles */
.sparkle{
    position:fixed;
    animation:sparkle 2s linear forwards;
}

@keyframes sparkle{
    to{
        transform:translateY(-60px);
        opacity:0;
    }
}

/* Audio */
audio{
    width:100%;
    margin-bottom:15px;
}
</style>
</head>
<body>

<div class="container">
    <h1 id="title">For Luna üåô‚ù§Ô∏è</h1>

    <audio id="music" controls>
        <source src="https://cdn.pixabay.com/download/audio/2025/07/26/audio_dd8143520a.mp3" type="audio/mpeg">
    </audio>

    <div class="message" id="msg">
        Press play and stay with me for a moment...
    </div>
</div>

<script>
const music = document.getElementById("music");
const msg = document.getElementById("msg");
const title = document.getElementById("title");

/* Story timeline (~90 seconds) */
const story = [
{time:5, text:"Sweet Moment 1 ‚ù§Ô∏è\nThe day you came into my life... everything became brighter."},
{time:15, text:"Sweet Moment 2 ‚ù§Ô∏è\nYour smile became my daily happiness."},
{time:25, text:"Sweet Moment 3 ‚ù§Ô∏è\nWith you, even ordinary days feel magical."},
{time:35, text:"Sweet Moment 4 ‚ù§Ô∏è\nYou bring peace to my heart and warmth to my soul."},
{time:45, text:"Sweet Moment 5 ‚ù§Ô∏è\nYou make my world softer, calmer, and more beautiful."},
{time:55, text:"Luna‚Ä¶ üåô\nYou are not just special‚Ä¶ you are my comfort."},
{time:65, text:"You are my safe place.\nMy happiness.\nMy peace."},
{time:75, text:"And today‚Ä¶ I just want you to know‚Ä¶"},
{time:85, text:"Happy Chocolate Day Luna ‚ù§Ô∏è\nYou are my moon, my love, my forever sweetness üåô", final:true}
];

music.addEventListener("timeupdate", () => {
    const current = music.currentTime;

    story.forEach(step => {
        if(current >= step.time && !step.shown){
            step.shown = true;
            showMessage(step);
        }
    });
});

function showMessage(step){
    msg.style.opacity = 0;

    setTimeout(()=>{
        msg.innerText = step.text;
        msg.style.opacity = 1;
        createSparkles();

        if(step.final){
            title.className = "final-title";
            startHearts();
        }
    },500);
}

/* Hearts */
function startHearts(){
    setInterval(()=>{
        const heart = document.createElement("div");
        heart.className="heart";
        heart.innerHTML="‚ù§Ô∏è";
        heart.style.left=Math.random()*100+"vw";
        heart.style.fontSize=(Math.random()*20+15)+"px";
        document.body.appendChild(heart);
        setTimeout(()=>heart.remove(),8000);
    },300);
}

/* Sparkles */
function createSparkles(){
    for(let i=0;i<6;i++){
        const s=document.createElement("div");
        s.className="sparkle";
        s.innerHTML="‚ú®";
        s.style.left=(window.innerWidth/2 + (Math.random()*120-60))+"px";
        s.style.top=(window.innerHeight/2)+"px";
        document.body.appendChild(s);
        setTimeout(()=>s.remove(),2000);
    }
}
</script>

</body>
</html>
